<!DOCTYPE html>
<html lang="en">
<head>
        <title>LinuxJedi's /dev/null - HP</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://linuxjedi.co.uk/theme/css/main.css" type="text/css" />
        <link href='http://linuxjedi.co.uk/theme/images/favicon.ico' rel='icon' type='image/x-icon'/>
        <link href="http://linuxjedi.co.uk/" type="application/atom+xml" rel="alternate" title="LinuxJedi's /dev/null ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://linuxjedi.co.uk/css/ie.css"/>
                <script src="http://linuxjedi.co.uk/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://linuxjedi.co.uk/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <h1><a href="http://linuxjedi.co.uk/index.html"><img src="http://linuxjedi.co.uk/theme/images/LinuxJedi_head.png" alt="LinuxJedi's /dev/null" /><br /><strong>The /dev/null ramblings of a Linux Jedi</strong></a></h1>
                <nav><ul>
                    <li ><a href="http://linuxjedi.co.uk/about-linuxjedi.html">About LinuxJedi</a></li>
                <li><a href="http://linuxjedi.co.uk/">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

     <section id="content" class="body">
        <aside id="featured"><article>
                <h1 class="entry-title"><a href="http://linuxjedi.co.uk/posts/2015/Jan/19/yubikey-for-os-logins/">YubiKey for OS Logins</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-01-19T16:14:00+00:00">
                Mon 19 Jan 2015, 16:14
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/general.html">General</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/yubikey.html">YubiKey</a><a href="http://linuxjedi.co.uk/tag/security.html">Security</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>I have mentioned a few times in this blog that HP takes security very seriously and HP's Advanced Technology Group is always looking into new ways of making things secure.  Recently the team all got a <a class="reference external" href="https://www.yubico.com/products/yubikey-hardware/yubikey-neo/">YubiKey Neo</a> to use.  The initial idea was we would be trying the FIDO U2F with Google accounts but several of us went much further.</p>
<p>Yazz Atlas from our team has been working on getting his SSH key into the NEO with some success.  I initially got my GPG key to work with the smart card feature in the NEO and have since been tinkering with a couple of other things.</p>
<p>I happened to find an original YubiKey in a drawer which was used for OTP two-factor authentication to a server I no longer have access to.  I wanted to use this as a way of two-factor authentication for my computers.  Unfortunately there is no good way of doing this on the Mac at the moment so I came up with a different way of doing a less secure two-factor authentication with it (but more secure than a fixed password).</p>
<p>The original YubiKey's have two &quot;slots&quot; in them.  Each slot can store either an OTP two-factor authentication identity or a static password.  You can tap a YubiKey to get the first slot and hold for around 3 seconds for the second slot.  The way I'm using this is to have the slots store static passwords, I then have a hand typed part of my password and a second static part stored on the YubiKey.  This means that if the YubiKey is stolen/used it is useless without my hand typed-part.  I have a backup of the YubiKey's static password in my <a class="reference external" href="https://lastpass.com/">LastPass</a> account (which incidentally uses two-factor authentication).</p>
<p>There was a minor snag in this to begin with, my Macs are encrypted with FileVault which has a known login problem.  If you type a password too quickly it actually drops some of characters that you have typed.  The YubiKey is a virtual keyboard and although it deliberately doesn't type too quickly, it is too fast for FileVault.  If your YubiKey is a version 2.3 or higher this is easy to fix.  In the <a class="reference external" href="https://www.yubico.com/products/services-software/personalization-tools/">YubiKey Personalization Tool</a> you can go to settings and change the output frequency, this setting change can then be used to update a slot.  But if like me your original YubiKey is an older version you cannot do this.  There is a way around this by generating a new key, but it requires the command line (the GUI doesn't have the options to change the delay whilst generating a new key).</p>
<p>First of all you need the command line YubiKey Personalization Tool.  There are <a class="reference external" href="https://yubico.github.io/yubikey-personalization/releases.html">Linux, Mac and Windows versions available</a> and some Linux distros have it in their repository.  Using this tool you can generate a new random static password with a typing delay as follows:</p>
<div class="highlight"><pre>ykpersonalize -2 -opacing-20ms -ostrong-pw2 -ostrong-pw1 -ostatic-token
</pre></div>
<p>You can change the <tt class="docutils literal"><span class="pre">-2</span></tt> to <tt class="docutils literal"><span class="pre">-1</span></tt> if you wish to program slot 1 instead.  The typing delay is added using the <tt class="docutils literal"><span class="pre">pacing-20ms</span></tt> option.  Unfortunately this flag doesn't quite match the GUI, if you want to match the GUI options here is what you need to use:</p>
<ul class="simple">
<li>20ms Delay - <tt class="docutils literal"><span class="pre">pacing-10ms</span></tt></li>
<li>40ms Delay - <tt class="docutils literal"><span class="pre">pacing-20ms</span></tt></li>
<li>60ms Delay - <tt class="docutils literal"><span class="pre">pacing-20ms</span></tt> and <tt class="docutils literal"><span class="pre">pacing-10ms</span></tt></li>
</ul>
<p>For FileVault it is recommended you using the 40ms delay as a minimum.  The 20ms delay works most of the time but can still fail.</p>
<p>So, now to log into my machines I type in the part of the password I have remembered and then press the YubiKey to fill in the rest of the password.</p>

        </article></aside><!-- /#featured -->
                <h1>Other articles</h1>
                <hr />
                    <ol id="posts-list" class="hfeed">
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2015/Jan/05/usb-flash-drives-trimming-the-fat/" rel="bookmark" title="Permalink to USB Flash Drives - Trimming the FAT">USB Flash Drives - Trimming the FAT</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-01-05T22:34:00+00:00">
                Mon 05 Jan 2015, 22:34
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/general.html">General</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/usb.html">USB</a><a href="http://linuxjedi.co.uk/tag/flash.html">Flash</a><a href="http://linuxjedi.co.uk/tag/filesystems.html">Filesystems</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>As with most of you who read this blog I carry USB flash drives around with me all the time.  Right now I have 3 Kingston DTSE9 sticks on my keyring of various sizes each with a different purpose.  Whilst these drives are nowhere near the fastest out there they ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2015/Jan/05/usb-flash-drives-trimming-the-fat/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Nov/25/autotools-and-mac-universal-binaries/" rel="bookmark" title="Permalink to Autotools and Mac Universal binaries">Autotools and Mac Universal binaries</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-11-25T16:38:00+00:00">
                Tue 25 Nov 2014, 16:38
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/general.html">General</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/autotools.html">Autotools</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>Recently I have been working on a Python based wrapper for <a class="reference external" href="http://libattachsql.org/">libAttachSQL</a> and found that when testing on a Mac I was having trouble compiling the wrapper.  It turns out that Python included in Mac operating systems uses a universal binary (also called fat binary) format and since libAttachSQL is ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Nov/25/autotools-and-mac-universal-binaries/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/31/why-json-is-bad-for-applications/" rel="bookmark" title="Permalink to Why JSON is bad for applications">Why JSON is bad for applications</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-31T15:22:00+00:00">
                Fri 31 Oct 2014, 15:22
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/general.html">General</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>Today I read an article about how company X has improved things by amongst other things ditching JSON after 2 years of using it.  Before I start on this subject I should say that JSON does have its place.  If you have a web application where a browser is talking ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/31/why-json-is-bad-for-applications/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/22/libattchsql-hits-first-ga/" rel="bookmark" title="Permalink to libAttchSQL Hits First GA!">libAttchSQL Hits First GA!</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-22T11:35:00+01:00">
                Wed 22 Oct 2014, 11:35
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>We have come a long way since the first code was put down for <a class="reference external" href="http://libattachsql.org">libAttachSQL</a> on the 4th July.  It has been a fantastic project to work on so I am very pleased to announce our first GA release.</p>
<p>For those who haven't seen it so far libAttachSQL is ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/22/libattchsql-hits-first-ga/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/15/libattachsql-single-thread-vs-libmysqlclient-multi-thread/" rel="bookmark" title="Permalink to libAttachSQL Single Thread vs. libmysqlclient Multi Thread">libAttachSQL Single Thread vs. libmysqlclient Multi Thread</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-15T20:01:00+01:00">
                Wed 15 Oct 2014, 20:01
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>I have recently <a class="reference external" href="http://linuxjedi.co.uk/posts/2014/Oct/03/libattachsql-benchmarks-with-sysbench/">posted up benchmarks</a> of <a class="reference external" href="http://libattachsql.org">libAttachSQL</a> vs. libmysqlclient using sysbench.  Whilst these are great and shows the results I hoped for, this isn't what we designed libAttachSQL for.  It was designed for non-blocking many connections per thread.</p>
<p>With this in mind I spent today knocking up a ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/15/libattachsql-single-thread-vs-libmysqlclient-multi-thread/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/14/libattachsql-090-rc-connection-groups/" rel="bookmark" title="Permalink to libAttachSQL 0.9.0 RC - Connection Groups">libAttachSQL 0.9.0 RC - Connection Groups</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-14T17:14:00+01:00">
                Tue 14 Oct 2014, 17:14
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>It has been just over 4 months since I started working on <a class="reference external" href="http://libattachsql.org">libAttachSQL</a> for HP's Advanced Technology Group.  Today marks the first (and hopefully only) RC release of the library.</p>
<div class="section" id="connection-groups">
<h2>Connection Groups</h2>
<p>The only real new feature that has been added to 0.9.0 is the concept of ...</p></div>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/14/libattachsql-090-rc-connection-groups/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/08/libattachsql-second-beta-after-the-sledgehammer/" rel="bookmark" title="Permalink to libAttachSQL Second Beta, After the Sledgehammer">libAttachSQL Second Beta, After the Sledgehammer</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-08T20:52:00+01:00">
                Wed 08 Oct 2014, 20:52
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>Last week I <a class="reference external" href="http://linuxjedi.co.uk/posts/2014/Oct/03/libattachsql-benchmarks-with-sysbench/">blogged about getting sysbench working with libAttachSQL</a>.  This was not only an exercise in performance but also the first real test for <a class="reference external" href="http://libattachsql.org/">libAttachSQL</a>.</p>
<p>Before I had done this testing the most the early Alpha and Beta releases of libAttachSQL had gone through is a few basic queries ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/08/libattachsql-second-beta-after-the-sledgehammer/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Oct/03/libattachsql-benchmarks-with-sysbench/" rel="bookmark" title="Permalink to libAttachSQL Benchmarks With Sysbench">libAttachSQL Benchmarks With Sysbench</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-10-03T21:28:00+01:00">
                Fri 03 Oct 2014, 21:28
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>This week I have been spending a little bit of time creating a module for <a class="reference external" href="https://launchpad.net/sysbench">Sysbench</a> so that it can use <a class="reference external" href="http://libattachsql.org/">libAttachSQL</a> as a database driver.  The reason for doing this is twofold:</p>
<ol class="arabic simple">
<li><a class="reference external" href="http://krow.net/">Brian</a> (my boss at HP's Advanced Technology Group) said now would be a good time to ...</li></ol>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Oct/03/libattachsql-benchmarks-with-sysbench/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header>
                        <h1><a href="http://linuxjedi.co.uk/posts/2014/Sep/23/libattachsql-query-example/" rel="bookmark" title="Permalink to libAttachSQL Query Example">libAttachSQL Query Example</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-09-23T23:02:00+01:00">
                Tue 23 Sep 2014, 23:02
        </abbr>

<p>In <a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a>. </p>
<p>tags: <a href="http://linuxjedi.co.uk/tag/mysql.html">MySQL</a><a href="http://linuxjedi.co.uk/tag/libattachsql.html">libAttachSQL</a><a href="http://linuxjedi.co.uk/tag/hp.html">HP</a><a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a></p></p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>I was asked some questions on IRC last night about how the query example in libAttachSQL's code base works.  For those who missed previous posts, <a class="reference external" href="http://libattachsql.org/">libAttachSQL</a> is a lightweight, non-blocking, Apache 2.0 licensed C connector for MySQL servers which I am developing for HP's Advanced Technology Group ...</p>
                <a class="readmore" href="http://linuxjedi.co.uk/posts/2014/Sep/23/libattachsql-query-example/">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
</ol><!-- /#posts-list -->
</section><!-- /#content -->

        <aside id="sidebar">
<div class="widget" id="book" role="book">
<h2>MySQL 5.1 Plugins Development</h2>
<a href="https://www.packtpub.com/mysql-5-1-plugins-development/book"><img border="0" style="float:left" src="http://linuxjedi.co.uk/theme/images/0608OS_MockupCover_sm.png" />
MySQL 5.1 Plugins Development by Andrew Hutchings and Sergei Golubchik is now available from Packt Publishing.</a>
<br style="clear:left;" />
</div><div class='widget' id='twitter_feed'>
<h2>Twitter Feed</h2>
<a class="twitter-timeline" width="280" height="300" href="https://twitter.com/LinuxJedi" data-widget-id="269020197594210304">Tweets by @LinuxJedi</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>                <div class="widget">
                        <h2>Categories</h2>
                        <ul>
                           <li ><a href="http://linuxjedi.co.uk/category/general.html">General</a></li>
                           <li ><a href="http://linuxjedi.co.uk/category/mysql.html">MySQL</a></li>
                        </ul>
                </div>
        </aside><!-- /#sidebar -->

        <footer id="footer" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->
                <p>The LinuxJedi logo and the content of this blog is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
                <p>The theme is «notmyidea-lxj», a modified version of «notmyidea-cms», the default theme.</p>
        </footer><!-- /#footer -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-55086889-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>