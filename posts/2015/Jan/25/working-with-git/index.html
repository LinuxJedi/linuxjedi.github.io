<!DOCTYPE html>
<html lang="en">
<head>
        <title>Working With Git</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://linuxjedi.co.uk/theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="http://linuxjedi.co.uk/theme/css/font-awesome.min.css" type="text/css" />
        <link href='http://linuxjedi.co.uk/theme/images/favicon.ico' rel='icon' type='image/x-icon'/>
        <link href="http://linuxjedi.co.uk/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="LinuxJedi's /dev/null ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://linuxjedi.co.uk/css/ie.css"/>
                <script src="http://linuxjedi.co.uk/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://linuxjedi.co.uk/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <h1><a href="http://linuxjedi.co.uk/index.html"><img src="http://linuxjedi.co.uk/theme/images/LinuxJedi_head.png" alt="LinuxJedi's /dev/null" /><br /><strong>The /dev/null ramblings of a Linux Jedi</strong></a></h1>
                <nav><ul>
                    <li ><a href="http://linuxjedi.co.uk/about-linuxjedi.html">About LinuxJedi</a></li>
                    <li ><a href="http://linuxjedi.co.uk/open-source-contributions.html">Open Source Contributions</a></li>
                <li><a href="http://linuxjedi.co.uk/">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

<section id="content" class="body">
<article>
      <header> <h1 class="entry-title"><a href="http://linuxjedi.co.uk/posts/2015/Jan/25/working-with-git/"
        rel="bookmark" title="Permalink to Working With Git">Working With Git</a></h1>  </header>
        <div class="entry-content">
<footer class="post-info">
    <p><i class="fa fa-calendar-o fa-fw"></i> <abbr style="padding: 0 1px" class="published" title="2015-01-25T16:33:00+00:00">Sun 25 Jan 2015, 16:33</abbr></p>

<p><i class="fa fa-folder-open fa-fw"></i> <a href="http://linuxjedi.co.uk/category/coding.html">Coding</a> </p>
<p><i class="fa fa-tags fa-fw"></i>&nbsp;<a href="http://linuxjedi.co.uk/tag/hp.html">HP</a> <a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">Advanced Technology Group</a> <a href="http://linuxjedi.co.uk/tag/git.html">Git</a> </p></p></footer><!-- /.post-info --><!-- /.post-info -->
        <p>At a recent meeting HP's Advanced Technology Group has been agreeing on standards for working with git, covering mainly the collaboration and versioning aspects.  Today I will share with you how I do this in my Open Source projects which has some crossover with the group's work.</p>
<div class="section" id="versioning">
<h2>Versioning</h2>
<p>I use <a class="reference external" href="http://semver.org/">Semantic Versioning</a> everywhere I can.  In fact I used to pretty much use it everywhere before I knew it was a standard.  This means that I have my GitHub trees layed out so that 'master' is the latest stable code, v1.0 branch is the latest stable v1.0 code, v1.1 branch is the latest in v1.1 and so on.  I then create GPG signed tags from these branches to create releases as follows:</p>
<div class="highlight"><pre><span class="nv">$ </span>git checkout v1.1
<span class="nv">$ </span>git tag -s v1.1.2 -m <span class="s1">&#39;Version 1.1.2 release&#39;</span>
<span class="nv">$ </span>git push --tags
</pre></div>
</div>
<div class="section" id="forking">
<h2>Forking</h2>
<p>Even if it is just me working on a particular project I will always use forks and pull requests to work on code.  This model works well with <a class="reference external" href="http://semver.org/">Travis CI</a> because it can test code prior to merging and give feedback in the pull request.</p>
<p>For this example I'm assuming you are using SSH keys and two-factor authentication with Git, if you aren't you need to do this ASAP.  Instructions can be found on <a class="reference external" href="https://github.com/blog/1614-two-factor-authentication">GitHub's blog</a>.</p>
<p>A fork is typically created as follows:</p>
<ol class="arabic">
<li><p class="first">Create a fork in GitHub, you can do this by clicking the fork button on a project.</p>
</li>
<li><p class="first">Grab a local copy of your fork to work with (replacing <cite>USERNAME</cite> and <cite>Repository</cite> with whatever is applicable to you):</p>
<div class="highlight"><pre><span class="nv">$ </span>git clone git@github.com:USERNAME/Repository
</pre></div>
</li>
<li><p class="first">Then you should set the upstream remote so that you can easily grab the latest code as needed.  I've used HTTPS here because you don't need to be authenticated to do this unless it is a private repository:</p>
<div class="highlight"><pre><span class="nv">$ </span>git remote add upstream https://github.com/PROJECT/Repository
</pre></div>
</li>
</ol>
</div>
<div class="section" id="starting-a-new-branch">
<h2>Starting a New Branch</h2>
<p>Whenever you are starting a new group of work, create a new branch.  This holds true for features or just basic one line fixes.  In your fork:</p>
<div class="highlight"><pre><span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git pull --ff-only upstream master
<span class="nv">$ </span>git push
<span class="nv">$ </span>git checkout -b my_feature
</pre></div>
<p>This pulls the latest code from the upstream master to your master, pushes that to your fork and then creates a new checkout based on that code.</p>
</div>
<div class="section" id="syncing-fork">
<h2>Syncing Fork</h2>
<p>If you have worked on some code and at the same time someone else has merged code that may conflict (a pull request will tell you this straight away) you can merge upstream with your commits as follows:</p>
<div class="highlight"><pre><span class="nv">$ </span>git fetch upstream
<span class="nv">$ </span>git merge upstream/master
</pre></div>
<p>This fetches the upstream code into a local cache and then will merge it.  If there are conflicts they will be flagged for you to resolve.</p>
</div>
<div class="section" id="pull-requests">
<h2>Pull Requests</h2>
<p>When your code is good and ready you can send it up as a pull request.  To do this you first need to push it up to your local repository:</p>
<div class="highlight"><pre><span class="nv">$ </span>git push --set-upstream origin my_feature
</pre></div>
<p>Then when you go to the project's repository you will see a button to file a pull request.  If you are using continuous integration such as Travis CI you should wait for that to give a green result and preferably peer review too before clocking the merge button.</p>
</div>

        </div><!-- /.entry-content -->
        <div class="comments">
        <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
               var disqus_identifier = "posts/2015/Jan/25/working-with-git/";
               (function() {
               var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
               dsq.src = 'http://linuxjedi.disqus.com/embed.js';
               (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
        </div>

</article>
</section>

        <aside id="sidebar">
<div class="widget" id="book" role="book">
<h2><i class="fa fa-book fa-lg"></i> MySQL 5.1 Plugins Development</h2>
<a href="https://www.packtpub.com/mysql-5-1-plugins-development/book"><img border="0" style="float:left" src="http://linuxjedi.co.uk/theme/images/0608OS_MockupCover_sm.png" />
MySQL 5.1 Plugins Development by Andrew Hutchings and Sergei Golubchik is now available from Packt Publishing.</a>
<br style="clear:left;" />
</div><div class='widget' id='twitter_feed'>
<h2><i class="fa fa-twitter fa-lg"></i> Twitter Feed</h2>
<a class="twitter-timeline" width="280" height="300" href="https://twitter.com/LinuxJedi" data-widget-id="269020197594210304">Tweets by @LinuxJedi</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>                <div class="widget">
                        <h2><i class="fa fa-home fa-lg"></i> Categories</h2>
                        <ul>
                           <li class="active"><a href="http://linuxjedi.co.uk/category/coding.html"><i class="fa fa-folder-open fa-lg"></i> Coding</a></li>
                           <li ><a href="http://linuxjedi.co.uk/category/general.html"><i class="fa fa-folder-open fa-lg"></i> General</a></li>
                           <li ><a href="http://linuxjedi.co.uk/category/mysql.html"><i class="fa fa-folder-open fa-lg"></i> MySQL</a></li>
                           <li ><a href="http://linuxjedi.co.uk/category/nginx.html"><i class="fa fa-folder-open fa-lg"></i> Nginx</a></li>
                           <li ><a href="http://linuxjedi.co.uk/category/security.html"><i class="fa fa-folder-open fa-lg"></i> Security</a></li>
                        </ul>
                </div>
                <div class="widget blogroll">
                        <h2><i class="fa fa-external-link fa-lg"></i> HP Advanced Technology Group</h2>
                        <ul>
                            <li><a href="http://krow.net/"><i class="fa fa-globe fa-lg"></i> Brian Aker</a></li>
                            <li><a href="https://egustafson.github.io/oscon-2014-p1.html"><i class="fa fa-globe fa-lg"></i> Eric Gustafson</a></li>
                            <li><a href="http://patg.net/"><i class="fa fa-globe fa-lg"></i> Patrick Galbraith</a></li>
                            <li><a href="http://askyazz.com/"><i class="fa fa-globe fa-lg"></i> Yazz Atlas</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="widget social">
                        <h2><i class="fa fa-comments fa-lg"></i> Social</h2>
                        <ul>
                            <li><a href="http://linuxjedi.co.uk/feeds/all.atom.xml" rel="alternate"><i class="fa fa-rss-square fa-lg"></i> RSS feed</a></li>

                            <li><a href="http://github.com/LinuxJedi"><i class="fa fa-github fa-lg"></i> GitHub</a></li>
                        </ul>
                </div><!-- /.social -->
            <div class="widget tags">
            <h2><i class="fa fa-tags fa-lg"></i>Tags</h2>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://linuxjedi.co.uk/tag/advanced-technology-group.html">
                            Advanced Technology Group
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://linuxjedi.co.uk/tag/api.html">
                            API
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/apple.html">
                            Apple
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/autotools.html">
                            Autotools
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/beamer.html">
                            Beamer
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/blog.html">
                            Blog
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://linuxjedi.co.uk/tag/c.html">
                            C
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/documentation.html">
                            Documentation
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/filesystems.html">
                            Filesystems
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/flash.html">
                            Flash
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/git.html">
                            Git
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://linuxjedi.co.uk/tag/hp.html">
                            HP
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/kernel.html">
                            Kernel
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://linuxjedi.co.uk/tag/libattachsql.html">
                            libAttachSQL
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://linuxjedi.co.uk/tag/linuxjedi.html">
                            LinuxJedi
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://linuxjedi.co.uk/tag/mysql.html">
                            MySQL
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/netgear.html">
                            Netgear
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://linuxjedi.co.uk/tag/nginx.html">
                            Nginx
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/parallels.html">
                            Parallels
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/python.html">
                            Python
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://linuxjedi.co.uk/tag/security.html">
                            Security
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/testing.html">
                            Testing
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://linuxjedi.co.uk/tag/usb.html">
                            USB
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://linuxjedi.co.uk/tag/yubikey.html">
                            YubiKey
                        </a>
                    </li>
                </ul>
            </div>
        </aside><!-- /#sidebar -->

        <footer id="footer" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->
                <p>The LinuxJedi logo and the content of this blog is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
        </footer><!-- /#footer -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-55086889-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>